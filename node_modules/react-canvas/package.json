{
  "name": "react-canvas",
  "version": "1.1.0",
  "description": "High performance <canvas> rendering for React components",
  "main": "lib/ReactCanvas.js",
  "repository": {
    "type": "git",
    "url": "https://github.com/Flipboard/react-canvas.git"
  },
  "scripts": {
    "start": "./node_modules/.bin/gulp",
    "test": "./node_modules/.bin/jest"
  },
  "keywords": [
    "react",
    "canvas"
  ],
  "author": {
    "name": "Michael Johnston",
    "email": "mj@flipboard.com"
  },
  "license": "BSD-3-Clause",
  "homepage": "https://github.com/Flipboard/react-canvas",
  "bugs": {
    "url": "https://github.com/Flipboard/react-canvas/issues"
  },
  "devDependencies": {
    "brfs": "^1.4.0",
    "del": "^1.1.1",
    "envify": "^3.2.0",
    "gulp": "^3.8.10",
    "gulp-connect": "^2.2.0",
    "gulp-webpack": "^1.2.0",
    "jest-cli": "^0.2.2",
    "jsx-loader": "^0.12.2",
    "react": "^0.14.0",
    "react-dom": "^0.14.0",
    "transform-loader": "^0.2.1",
    "webpack": "^1.5.3"
  },
  "peerDependencies": {
    "react": "^0.14.0"
  },
  "dependencies": {
    "fbjs": "^0.4.0",
    "linebreak": "^0.3.0",
    "object-assign": "^4.0.1",
    "scroller": "git://github.com/mjohnston/scroller"
  },
  "readme": "# react-canvas\n\n[Introductory blog post](http://engineering.flipboard.com/2015/02/mobile-web/)\n\nReact Canvas adds the ability for React components to render to `<canvas>` rather than DOM.\n\nThis project is a work-in-progress. Though much of the code is in production on flipboard.com, the React canvas bindings are relatively new and the API is subject to change.\n\n## Motivation\n\nHaving a long history of building interfaces geared toward mobile devices, we found that the reason mobile web apps feel slow when compared to native apps is the DOM. CSS animations and transitions are the fastest path to smooth animations on the web, but they have several limitations. React Canvas leverages the fact that most modern mobile browsers now have hardware accelerated canvas.\n\nWhile there have been other attempts to bind canvas drawing APIs to React, they are more focused on visualizations and games. Where React Canvas differs is in the focus on building application user interfaces. The fact that it renders to canvas is an implementation detail.\n\nReact Canvas brings some of the APIs web developers are familiar with and blends them with a high performance drawing engine.\n\n## React Canvas Components\n\nReact Canvas provides a set of standard React components that abstract the underlying rendering implementation.\n\n### &lt;Surface&gt;\n\n**Surface** is the top-level component. Think of it as a drawing canvas in which you can place other components.\n\n### &lt;Layer&gt;\n\n**Layer** is the the base component by which other components build upon. Common styles and properties such as top, width, left, height, backgroundColor and zIndex are expressed at this level.\n\n### &lt;Group&gt;\n\n**Group** is a container component. Because React enforces that all components return a single component in `render()`, Groups can be useful for parenting a set of child components. The Group is also an important component for optimizing scrolling performance, as it allows the rendering engine to cache expensive drawing operations.\n\n### &lt;Text&gt;\n\n**Text** is a flexible component that supports multi-line truncation, something which has historically been difficult and very expensive to do in DOM.\n\n### &lt;Image&gt;\n\n**Image** is exactly what you think it is. However, it adds the ability to hide an image until it is fully loaded and optionally fade it in on load.\n\n### &lt;Gradient&gt;\n\n**Gradient** can be used to set the background of a group or surface. \n```javascript\n  render() {\n    ...\n    return (\n      <Group style={this.getStyle()}>\n        <Gradient style={this.getGradientStyle()} \n                  colorStops={this.getGradientColors()} />\n      </Group>\n    );\n  }\n  getGradientColors(){\n    return [\n      { color: \"transparent\", position: 0 },\n      { color: \"#000\", position: 1 }\n    ]\n  }\n``` \n\n### &lt;ListView&gt;\n\n**ListView** is a touch scrolling container that renders a list of elements in a column. Think of it like UITableView for the web. It leverages many of the same optimizations that make table views on iOS and list views on Android fast.\n\n## Events\n\nReact Canvas components support the same event model as normal React components. However, not all event types are currently supported.\n\nFor a full list of supported events see [EventTypes](lib/EventTypes.js).\n\n## Building Components\n\nHere is a very simple component that renders text below an image:\n\n```javascript\nvar React = require('react');\nvar ReactCanvas = require('react-canvas');\n\nvar Surface = ReactCanvas.Surface;\nvar Image = ReactCanvas.Image;\nvar Text = ReactCanvas.Text;\n\nvar MyComponent = React.createClass({\n\n  render: function () {\n    var surfaceWidth = window.innerWidth;\n    var surfaceHeight = window.innerHeight;\n    var imageStyle = this.getImageStyle();\n    var textStyle = this.getTextStyle();\n\n    return (\n      <Surface width={surfaceWidth} height={surfaceHeight} left={0} top={0}>\n        <Image style={imageStyle} src='...' />\n        <Text style={textStyle}>\n          Here is some text below an image.\n        </Text>\n      </Surface>\n    );\n  },\n\n  getImageHeight: function () {\n    return Math.round(window.innerHeight / 2);\n  },\n\n  getImageStyle: function () {\n    return {\n      top: 0,\n      left: 0,\n      width: window.innerWidth,\n      height: this.getImageHeight()\n    };\n  },\n\n  getTextStyle: function () {\n    return {\n      top: this.getImageHeight() + 10,\n      left: 0,\n      width: window.innerWidth,\n      height: 20,\n      lineHeight: 20,\n      fontSize: 12\n    };\n  }\n\n});\n```\n\n## ListView\n\nMany mobile interfaces involve an infinitely long scrolling list of items. React Canvas provides the ListView component to do just that.\n\nBecause ListView virtualizes elements outside of the viewport, passing children to it is different than a normal React component where children are declared in render().\n\nThe `numberOfItemsGetter`, `itemHeightGetter` and `itemGetter` props are all required.\n\n```javascript\nvar ListView = ReactCanvas.ListView;\n\nvar MyScrollingListView = React.createClass({\n\n  render: function () {\n    return (\n      <ListView\n        numberOfItemsGetter={this.getNumberOfItems}\n        itemHeightGetter={this.getItemHeight}\n        itemGetter={this.renderItem} />\n    );\n  },\n\n  getNumberOfItems: function () {\n    // Return the total number of items in the list\n  },\n\n  getItemHeight: function () {\n    // Return the height of a single item\n  },\n\n  renderItem: function (index) {\n    // Render the item at the given index, usually a <Group>\n  },\n\n});\n```\n\nSee the [timeline example](examples/timeline/app.js) for a more complete example.\n\nCurrently, ListView requires that each item is of the same height. Future versions will support variable height items.\n\n## Text sizing\n\nReact Canvas provides the `measureText` function for computing text metrics.\n\nThe [Page component](examples/timeline/components/Page.js) in the timeline example contains an example of using measureText to achieve precise multi-line ellipsized text.\n\nCustom fonts are not currently supported but will be added in a future version.\n\n## css-layout\n\nThere is experimental support for using [css-layout](https://github.com/facebook/css-layout) to style React Canvas components. This is a more expressive way of defining styles for a component using standard CSS styles and flexbox.\n\nFuture versions may not support css-layout out of the box. The performance implications need to be investigated before baking this in as a core layout principle.\n\nSee the [css-layout example](examples/css-layout).\n\n## Accessibility\n\nThis area needs further exploration. Using fallback content (the canvas DOM sub-tree) should allow screen readers such as VoiceOver to interact with the content. We've seen mixed results with the iOS devices we've tested. Additionally there is a standard for [focus management](http://www.w3.org/TR/2010/WD-2dcontext-20100304/#dom-context-2d-drawfocusring) that is not supported by browsers yet.\n\nOne approach that was raised by [Bespin](http://vimeo.com/3195079) in 2009 is to keep a [parallel DOM](http://robertnyman.com/2009/04/03/mozilla-labs-online-code-editor-bespin/#comment-560310) in sync with the elements rendered in canvas.\n\n## Running the examples\n\n```\nnpm install\nnpm start\n```\n\nThis will start a live reloading server on port 8080. To override the default server and live reload ports, run `npm start` with PORT and/or RELOAD_PORT environment variables.\n\n**A note on NODE_ENV and React**: running the examples with `NODE_ENV=production` will noticeably improve scrolling performance. This is because React skips propType validation in production mode.\n\n## Contributing\n\nWe welcome pull requests for bug fixes, new features, and improvements to React Canvas. Contributors to the main repository must accept Flipboard's Apache-style [Individual Contributor License Agreement (CLA)](https://docs.google.com/forms/d/1gh9y6_i8xFn6pA15PqFeye19VqasuI9-bGp_e0owy74/viewform) before any changes can be merged.\n\n",
  "readmeFilename": "README.md",
  "_id": "react-canvas@1.1.0",
  "_from": "react-canvas@^1.1.0"
}
